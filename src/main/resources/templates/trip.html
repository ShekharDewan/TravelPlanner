<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
  <title>Starter Template - Materialize</title>

  <!-- CSS  -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="/css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="/css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  
  <script src='https://maps.google.com/maps/api/js?key=AIzaSyAIhZ4DWSti3Va_4Zy5nxGnyEhaw4AF6ZI'></script>  
  
</head>
<body>
  <nav class="light-blue lighten-1" role="navigation">
    <div class="nav-wrapper container"><a id="logo-container" href="/" class="brand-logo">Trip Planner</a>
      <ul class="right hide-on-med-and-down">
        <li><a href="/trips">Trips</a></li>
      </ul>

      <ul id="nav-mobile" class="sidenav">
        <li><a href="#">Navbar Link</a></li>
      </ul>
      <a href="#" data-target="nav-mobile" class="sidenav-trigger"><i class="material-icons">menu</i></a>
    </div>
  </nav>
  <div class="section no-pad-bot" id="index-banner">
    <div class="container">
      <br><br>
      <div class="title">
      <h1 class="header center orange-text" th:text="${trip.title}" ></h1>
      <a th:href="@{/trip/} + ${trip.id} + @{/edit}" class="waves-effect waves-light btn-small">Edit</a>
       </div>
      <div class="row center">
        <h5 th:text="${trip.description}" class="header col s12 light"></h5>
      </div>
      
      <!-- Fixed action button -->
      <div class="fixed-action-btn">
		  <a class="btn-floating btn-large red">
		    <i class="large material-icons">mode_edit</i>
		  </a>
		  <ul>
		    <li><a data-target="modal1" class="btn-floating red modal-trigger"><i class="material-icons">perm_contact_calendar</i></a></li>
		    <li><a class="btn-floating green"><i class="material-icons">hotel</i></a></li>
		    <li><a class="btn-floating blue"><i class="material-icons">whatshot</i></a></li>
		  </ul>
	  </div>
	  
	  <!-- Modal Structure -->
	  <div id="modal1" class="modal">
	    <div class="modal-content">
	      <h4>Modal Header</h4>
	      <p>A bunch of text</p>
	    </div>
	    <div class="modal-footer">
	      <a href="#!" class="modal-close waves-effect waves-green btn-flat">Agree</a>
	    </div>
	  </div>

      <!-- Page Layout here -->
	  <div class="row">
	
	      <div class="col s4">
	          <h4 class="header">
		          <span data-target="modal1" class="btn-floating red"><i class="material-icons">perm_contact_calendar</i></span>
		          Itineraries
	          </h4>
		      <br>
		      <ul class="collapsible">
			    <li th:each="itinerary : ${trip.itineraries}">
			      <div class="collapsible-header">
			      	<i class="material-icons">perm_contact_calendar</i>
			      	<span th:text="${#dates.format(itinerary.date, 'MMM dd, yyyy')}"></span>
			      </div>
			      <div class="collapsible-body">
			      	<p th:text="${itinerary.notes}"></p>
			      </div>
			    </li>
			  </ul>
	      </div>
	      
	      <div class="col s8">
	          <h4 class="header">
		          <span data-target="modal1" class="btn-floating green"><i class="material-icons">hotel</i></span>
		          Accomodations
	          </h4>
		      <br>
		      <ul class="collapsible">
			    <li th:each="accomodation : ${trip.accomodations}">
			      <div class="collapsible-header">
			      	<i class="material-icons">hotel</i>
			      	<span th:text="${accomodation.title}"></span>
			        <span class="badge" th:text="${#dates.format(accomodation.checkIn, 'MMM dd, yyyy')}">4</span>
			      </div>
			      <div class="collapsible-body">
			      	  
				      <p th:text="${accomodation.notes}"></p>
				      check-in: <span th:text="${#dates.format(accomodation.checkIn, 'MMM dd, yyyy')}"/>&nbsp; 
				      <br>check-out: <span th:text="${#dates.format(accomodation.checkOut, 'MMM dd, yyyy')}"/><br>
				      <h6 th:text="@{'$' +  ${accomodation.price}}"></h6>
				      <br>
				      <address>
				        <span th:text="${accomodation.address.civicNumber}"/>&nbsp;<span th:text="${accomodation.address.street}"/><br>
						<span th:text="${accomodation.address.city}"/>,&nbsp;<span th:text="${accomodation.address.country}"/><br>
						<span th:text="${accomodation.address.code}"/><br>
						coordinates:&nbsp;<span th:text="${accomodation.address.latitude}"/>,&nbsp;<span th:text="${accomodation.address.longitude}"/><br>
						<div style="width:100%;height:300px;" th:id="@{'accomodation-map-' + ${accomodation.id}}"></div>
						<script th:inline="javascript">
						/*<![CDATA[*/
						     var map;
					      	 function initAccomMap[[${accomodation.id}]]() {
						        map = new google.maps.Map(document.getElementById('accomodation-map-[[${accomodation.id}]]'), {
						          center: {lat: [[${accomodation.address.latitude}]], lng: [[${accomodation.address.longitude}]]},
						          zoom: 18
						        });
						     }
						     initAccomMap[[${accomodation.id}]]();
						/*]]>*/
						</script>
					  </address>
					  
				  </div>
			    </li>
			  </ul>
			  
			  <br>
			  
			  <h4 class="header">
		          <span data-target="modal1" class="btn-floating blue"><i class="material-icons">whatshot</i></span>
		          Reservations
	          </h4>
		      <br>
		      <ul class="collapsible">
			    <li th:each="reservation : ${trip.reservations}">
			      <div class="collapsible-header">
			      	<i class="material-icons">whatshot</i><span th:text="${reservation.title}"></span>
			      	<span class="badge" th:text="${#dates.format(reservation.date, 'MMM dd, yyyy')}">4</span>
			      
			      </div>
			      <div class="collapsible-body">
			      	  <p th:text="${reservation.notes}"></p>
			      	  Confirmation: <span th:text="${reservation.confirmation}"></span>
			      	  <h6 th:text="@{'$' +  ${reservation.price}}"></h6>
				      <address>
					        <span th:text="${reservation.address.civicNumber}"/>&nbsp;<span th:text="${reservation.address.street}"/><br>
							<span th:text="${reservation.address.city}"/>,&nbsp;<span th:text="${reservation.address.country}"/><br>
							<span th:text="${reservation.address.code}"/><br>
							coordinates:&nbsp;<span th:text="${reservation.address.latitude}"/>,&nbsp;<span th:text="${reservation.address.longitude}"/><br>
							<div style="width:100%;height:300px;" th:id="@{'map-' + ${reservation.id}}"></div>
							<script th:inline="javascript">
							/*<![CDATA[*/
							     var map;
						      	 function initMap[[${reservation.id}]]() {
							        map = new google.maps.Map(document.getElementById('map-[[${reservation.id}]]'), {
							          center: {lat: [[${reservation.address.latitude}]], lng: [[${reservation.address.longitude}]]},
							          zoom: 18
							        });
							     }
							     initMap[[${reservation.id}]]();
							/*]]>*/
							</script>
					  </address>
				  </div>
			    </li>
			  </ul>
	      </div>
	
	  </div>
      <br><br>
     </div>
  </div>


  <footer class="page-footer orange">
    <div class="container">
      <div class="row">
        <div class="col l6 s12">
          <h5 class="white-text">Company Bio</h5>
          <p class="grey-text text-lighten-4">We are a team of college students working on this project like it's our full time job. Any amount would help support and continue development on this project and is greatly appreciated.</p>


        </div>
        <div class="col l3 s12">
          <h5 class="white-text">Settings</h5>
          <ul>
            <li><a class="white-text" href="#!">Link 1</a></li>
            <li><a class="white-text" href="#!">Link 2</a></li>
            <li><a class="white-text" href="#!">Link 3</a></li>
            <li><a class="white-text" href="#!">Link 4</a></li>
          </ul>
        </div>
        <div class="col l3 s12">
          <h5 class="white-text">Connect</h5>
          <ul>
            <li><a class="white-text" href="#!">Link 1</a></li>
            <li><a class="white-text" href="#!">Link 2</a></li>
            <li><a class="white-text" href="#!">Link 3</a></li>
            <li><a class="white-text" href="#!">Link 4</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="footer-copyright">
      <div class="container">
      Made by <a class="orange-text text-lighten-3" href="http://materializecss.com">Materialize</a>
      </div>
    </div>
  </footer>


  <!--  Scripts-->
  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="/js/materialize.js"></script>
  <script src="/js/init.js"></script>
  
  </body>
</html>
